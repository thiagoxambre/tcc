<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Project Manager</title>
</h:head>
<h:body>
    <h:form id="formPrincipal">
        <h:outputText value="Projetos : "></h:outputText>
        <p:dataTable id="projetos" var="projeto" value="#{projetoMB.projetos}" style="width: 10%">
            <p:column>
                <f:facet name="header">
                    <h:outputText value="ID" />
                </f:facet>
                <h:outputText value="#{projeto.id}" />
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Nome" />
                </f:facet>
                <h:outputText value="#{projeto.nome}" />
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Visão Geral" />
                </f:facet>
                <h:outputText value="#{projeto.visaoGeral}" />
            </p:column>
            <p:column headerText="Ações">
<!--                              
                             <p:commandLink title="Alterar" update=":formAlterar:Alterar"
                                     oncomplete="dialogAlterar.show()" immediate="true">
                                     <p:graphicImage value="./imagens/edit_icon.png" />
                                     <f:setPropertyActionListener target="#{pessoaBean.pessoa}"
                                             value="#{lista}" />
                             </p:commandLink>
 -->
                             <p:commandLink title="Selecionar" action="#{projetoMB.selecionarProjeto}" ajax="false">
									<h:outputText value="Selecionar" />                                     
                                     <p:graphicImage value="./imagens/del_icon.png" />
                                     <f:setPropertyActionListener target="#{projetoMB.projeto}" value="#{projeto}" />
                             </p:commandLink>

                             <p:commandLink title="Excluir" update=":formExcluir:Excluir"
                                     oncomplete="confirmation.show()" immediate="true">
									<h:outputText value="Deletar" />                                     
                                     <p:graphicImage value="./imagens/del_icon.png" />
                                     <f:setPropertyActionListener target="#{projetoMB.projeto}"
                                             value="#{projeto}" />
                             </p:commandLink>
            </p:column>            
        </p:dataTable>
    </h:form>
    
 	<h:form id="formExcluir">
                <p:confirmDialog id="Excluir"
                        message="Você gostaria de Deletar o #{projetoMB.projeto.nome}?"
                        header="Excluir" severity="alert" widgetVar="confirmation">
 
                        <p:commandButton id="confirm" value="Sim"
                                oncomplete="confirmation.hide()"
                                actionListener="#{projetoMB.deletarProjeto}"
                                update=":formPrincipal:projetos" />
                        <p:commandButton id="decline" value="Não"
                                onclick="confirmation.hide()" type="button" />
 
                </p:confirmDialog>
    </h:form>    
</h:body>

</html>
